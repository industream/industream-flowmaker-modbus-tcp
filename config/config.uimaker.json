{"projectName":"industream/modbus-tcp-client/1.0.0","projectId":"@etcd:flowmaker:boxes/industream/modbus-tcp-client/1.0.0/config","projectDescription":"Managed by: flowmaker","data":{"configurationFiles":[{"uri":null,"contents":"{\"host\":\"localhost\",\"port\":502,\"slaveId\":1,\"pollingIntervalMs\":1000,\"connectionTimeoutMs\":5000,\"readTimeoutMs\":3000,\"retries\":3,\"retryDelayMs\":500,\"byteOrderStr\":\"BigEndian\",\"registers\":\"\"}","machineName":"default","type":"json"}],"outputModules":[{"name":"iframe","showActionLists":true,"useCustomStorage":true,"actionListMapping":{"onInput":["UpdateFormFromIFrame"]},"managedBy":"flowmaker","uri":"iframe://flow-v1","httpAction":"post"}],"sections":[{"name":"[Invisible Subsection]","subSections":[{"name":"Connection","form":{"items":[{"key":"host","value":"localhost","type":"string","display":"text","label":"Host","displayRow":1,"displayCol":0,"actionListMapping":{},"outputModuleSettings":{"iframe":{"name":"iframe","useInSend":true,"useInReceive":true}},"attributes":{"placeholder":"192.168.1.100"},"description":"The Modbus TCP server hostname or IP address.\n\nExamples:\n- localhost\n- 192.168.1.100\n- plc.factory.local"},{"key":"port","value":502,"type":"number","display":"number","label":"Port","displayRow":1,"displayCol":1,"actionListMapping":{},"outputModuleSettings":{"iframe":{"name":"iframe","useInSend":true,"useInReceive":true}},"attributes":{"min":1,"max":65535},"description":"The Modbus TCP server port.\n\nDefault Modbus TCP port is 502.\n\nSome devices use alternative ports like 5020 or custom ports."},{"key":"slaveId","value":1,"type":"number","display":"number","label":"Slave ID","displayRow":2,"displayCol":0,"actionListMapping":{},"outputModuleSettings":{"iframe":{"name":"iframe","useInSend":true,"useInReceive":true}},"attributes":{"min":1,"max":247},"description":"The Modbus slave/unit identifier (1-247).\n\nAlso known as Unit ID or Station Address.\n\nMost devices use ID 1, but some gateways or multi-drop networks require specific IDs."}]}},{"name":"Data Format","form":{"items":[{"key":"byteOrderStr","value":"BigEndian","type":"string","display":"select","label":"Byte Order","displayRow":1,"displayCol":0,"actionListMapping":{},"outputModuleSettings":{"iframe":{"name":"iframe","useInSend":true,"useInReceive":true}},"attributes":{"options":[{"value":"BigEndian","label":"Big-Endian (ABCD)"},{"value":"LittleEndian","label":"Little-Endian (DCBA)"},{"value":"BigEndianByteSwap","label":"Big-Endian Byte Swap (BADC)"},{"value":"LittleEndianByteSwap","label":"Little-Endian Byte Swap (CDAB)"}]},"description":"Byte order for multi-register values (32-bit, 64-bit).\n\nDifferent PLCs use different byte orders:\n\n- Big-Endian (ABCD): Most significant byte first. Standard Modbus order. Used by most Siemens, Allen-Bradley PLCs.\n\n- Little-Endian (DCBA): Least significant byte first. Used by some Schneider, Modicon PLCs.\n\n- Big-Endian Byte Swap (BADC): Words in big-endian order, bytes swapped within words. Used by some Mitsubishi PLCs.\n\n- Little-Endian Byte Swap (CDAB): Words in little-endian order, bytes swapped. Used by some older devices.\n\nIf float values appear incorrect, try a different byte order."}]}},{"name":"Polling","form":{"items":[{"key":"pollingIntervalMs","value":1000,"type":"number","display":"number","label":"Polling Interval (ms)","displayRow":1,"displayCol":0,"actionListMapping":{},"outputModuleSettings":{"iframe":{"name":"iframe","useInSend":true,"useInReceive":true}},"attributes":{"min":100,"max":60000},"description":"How often to read all configured registers (in milliseconds).\n\nLower values = more frequent updates but higher network/CPU load.\n\nTypical values:\n- 100ms: High-frequency monitoring\n- 1000ms: Standard monitoring\n- 5000ms: Low-frequency monitoring\n\nNote: Very fast polling may overload slow PLCs."}]}},{"name":"Timeouts & Retries","form":{"items":[{"key":"connectionTimeoutMs","value":5000,"type":"number","display":"number","label":"Connection Timeout (ms)","displayRow":1,"displayCol":0,"actionListMapping":{},"outputModuleSettings":{"iframe":{"name":"iframe","useInSend":true,"useInReceive":true}},"attributes":{"min":1000,"max":60000},"description":"Maximum time to wait for initial TCP connection (in milliseconds).\n\nIncrease for slow networks or remote connections."},{"key":"readTimeoutMs","value":3000,"type":"number","display":"number","label":"Read Timeout (ms)","displayRow":1,"displayCol":1,"actionListMapping":{},"outputModuleSettings":{"iframe":{"name":"iframe","useInSend":true,"useInReceive":true}},"attributes":{"min":500,"max":30000},"description":"Maximum time to wait for a Modbus response (in milliseconds).\n\nIncrease if the PLC is slow to respond or network has high latency."},{"key":"retries","value":3,"type":"number","display":"number","label":"Retries","displayRow":2,"displayCol":0,"actionListMapping":{},"outputModuleSettings":{"iframe":{"name":"iframe","useInSend":true,"useInReceive":true}},"attributes":{"min":0,"max":10},"description":"Number of retry attempts on communication failure.\n\nSet to 0 to disable retries.\n\nRecommended: 2-3 retries for reliable operation."},{"key":"retryDelayMs","value":500,"type":"number","display":"number","label":"Retry Delay (ms)","displayRow":2,"displayCol":1,"actionListMapping":{},"outputModuleSettings":{"iframe":{"name":"iframe","useInSend":true,"useInReceive":true}},"attributes":{"min":100,"max":5000},"description":"Delay between retry attempts (in milliseconds).\n\nAllows the device time to recover before retrying."}]}},{"name":"Registers","form":{"items":[{"key":"registers","value":"","type":"string","display":"textarea","label":"Register Definitions","displayRow":1,"displayCol":0,"actionListMapping":{},"outputModuleSettings":{"iframe":{"name":"iframe","useInSend":true,"useInReceive":true}},"attributes":{"placeholder":"# Format: name:type:address[:datatype]\ntemperature:holding:0:float32\npressure:holding:2:float32\ncounter:holding:4:uint32\nstatus:coil:0","rows":12},"description":"Define the Modbus registers to read (one per line).\n\nFormat: name:type:address[:datatype]\n\nRegister Types:\n- coil: Read/write bits (function code 1)\n- discrete: Read-only bits (function code 2)\n- holding: Read/write 16-bit registers (function code 3)\n- input: Read-only 16-bit registers (function code 4)\n\nData Types:\n- uint16: Unsigned 16-bit integer (1 register, default)\n- int16: Signed 16-bit integer (1 register)\n- uint32/dword: Unsigned 32-bit integer (2 registers)\n- int32/long: Signed 32-bit integer (2 registers)\n- float32/float/real: 32-bit floating point (2 registers)\n- uint64/qword: Unsigned 64-bit integer (4 registers)\n- int64: Signed 64-bit integer (4 registers)\n- float64/double/lreal: 64-bit floating point (4 registers)\n- bool: Boolean\n- string: ASCII string\n\nExamples:\ntemperature:holding:0:float32\npressure:holding:2:float32\ncounter:holding:4:uint32\nsetpoint:holding:6:int16\nstatus_bits:coil:0\nsensor_value:input:100:float32\n\nLines starting with # are comments."}]}}]}],"actionLists":[{"id":"UpdateFormFromIFrame","actions":[{"id":"01-update-from-iframe","actionType":"set","target":".","script":"event","implementation":null}]}]}}
